/*! Start CSS Classes. See SCSS file for documentation. */

/*------------------------------------------------------------------------------------------------*\

    Classes

\*------------------------------------------------------------------------------------------------*/


$f__custom-input-focus-shadow: 0 0 0 2px lighten($f__base-ui-color, 20%) !default;


$f__class-namespace: null !default;

// Allow individual classes to be turned off if they're not needed.
$ff__include_class_cta_button:    true !default;
$ff__include_class_bordered:      true !default;
$ff__include_class_padded:        true !default;
$ff__include_class_subtitle:      true !default;
$ff__include_class_tagline:       true !default;
$ff__include_class_composite:     true !default;
$ff__include_class_custom_inputs: true !default;
$ff__include_class_poem:          true !default;

/*
    Resources:
    *
*/

@if $ff__include_class_cta_button {
    /*
        "Buttons" or "CTAs" that are really links should be distinguished from real buttons, so by
        default we're swapping the foreground and background colors:
    */
    a[href].#{$f__class-namespace}button,
    a[href].#{$f__class-namespace}cta {
        @include f__button(
            $f__button-background-color,
            $f__button-text-color,
            20,
            $f__button-background-color
        );

            &:hover,
            &:active,
            &:focus {
                background-color: lighten($f__button-background-color, 55%);
            }
    }

        a[href].#{$f__class-namespace}button--has-icon,
        a[href].#{$f__class-namespace}cta--has-icon {
            position: relative;
        }

        a[href].#{$f__class-namespace}button--has-icon::after,
        a[href].#{$f__class-namespace}cta--has-icon::after {
            content: "";
            display: inline;
            padding-left: 1.25em;
            line-height: 0;
        }

        a[href].#{$f__class-namespace}button--has-icon .icon,
        a[href].#{$f__class-namespace}cta--has-icon .icon {
            position: absolute;
            bottom: 0;
            transform: translateY(-15%);
        }


        // 'Fake' buttons. Over qualified for clarity.
        .#{$f__class-namespace}button[data-text][aria-hidden="true"] {
            @include f__button;
        }

            .#{$f__class-namespace}button[data-text][aria-hidden="true"]::before {
                content: attr(data-text);
            }
}

@if $ff__include_class_bordered {
    .#{$f__class-namespace}bordered {
        @include f__bordered($f__base-line-height, 6px);
        //@include f__bordered($f__base-rem-space-unit, $f__border-width);
    }
}

@if $ff__include_class_padded {
    // Note: the 'collapsible bottom spacing' trick doesn't seem to work if there's no border.
    // Affects: IE9-11
    // Works if pseudo element height is 1px.
    // Adding a transparent border seems to fix it, as does setting it to an inline-block.
    // Not sure which is the best / most reliable approach at the moment, so leaving both in for ref.
    .#{$f__class-namespace}padded {
        //@include f__bordered($f__base-line-height, 1px);
        //border: 1px solid transparent;

        //@include f__bordered($f__base-line-height, 0);
        @include f__bordered($f__base-rem-space-unit, 0px);
        //display: inline-block;
        //width: 100%;
    }
}

@if $ff__include_class_subtitle {
    /*
        1. Prevent element increasing height of parent.
    */
    b.#{$f__class-namespace}subtitle {
        font-size: 0.8em;
        font-weight: inherit;
        font-style: normal;
        line-height: 1;  /* 1 */
    }

    /*
        1. Negate heading margin.
    */
    p.#{$f__class-namespace}subtitle {
        font-size: 1.5em;
        font-weight: inherit;
        margin-top: -#{$f__base-rem-space-unit / 2}; /* 1 */
    }
}

@if $ff__include_class_tagline {
    /*
        1. Negate heading margin.
    */
    .#{$f__class-namespace}tagline {
        font-size: 1.14285714286em;
        margin-top: -#{$f__base-rem-space-unit / 2}; /* 1 */
    }
}

@if $ff__include_class_composite {
    /*
        1. Collapse whitespace.
        2. Prevent extra height being added.
    */
    .#{$f__class-namespace}composite {
        display: -webkit-inline-box; /* 1 */
        display: -ms-inline-flexbox; /* 1 */
        display: inline-flex; /* 1 */
        vertical-align: middle; /* 2 */
        max-width: 100%;

        -webkit-flex-wrap: wrap;
            -ms-flex-wrap: wrap;
                flex-wrap: wrap;

    }

    /*
        1. Prevent extra height being added.
    */
    .#{$f__class-namespace}composite > * {
        vertical-align: top; /* 1 */
        -webkit-flex: 0 1 auto;
            -ms-flex: 0 1 auto;
                flex: 0 1 auto;
    }

    /*
        IE9

        1. Make sure there are no spaces between elements in the markup as the as the white space won't
           collapse.

        2. Hide button.
    */
    @media screen and (min-width:0\0) and (min-resolution:.001dpcm) {
        .#{$f__class-namespace}composite {
            display: inline-block; /* 1 */
            white-space: nowrap; /* 1 */
            overflow: hidden; /* 2 */
        }

        .#{$f__class-namespace}composite > * {
            vertical-align: top;
            display: inline-block;
        }
    }

        .#{$f__class-namespace}composite > *:not(:first-child) {
            border-top-left-radius: 0 !important;
            border-bottom-left-radius: 0 !important;
            // This looks odd in Edge...
            //border-left: 0;
            // ... so try negative margin to tweak:
            //margin-left: -1px;
        }

        .#{$f__class-namespace}composite > *:not(:last-child) {
            border-top-right-radius: 0 !important;
            border-bottom-right-radius: 0 !important;
            border-right: 0 !important;
        }
}

@if $ff__include_class_custom_inputs {

    /* CUSTOM INPUTS: RADIOS AND CHECKBOXES */

    /* Hide the real inputs: */
    /* (note this method is important to persist accessibility and keyboard navigation) */
    .#{$f__class-namespace}custom-input[type="checkbox"],
    .#{$f__class-namespace}custom-input[type="radio"] {
        position: absolute;
        opacity: 0;
    }

    /* Prepare for positioning the pseudo-elements: */
    .#{$f__class-namespace}custom-input-label {
        position: relative;
        //vertical-align: middle;
        vertical-align: top;

        /*display: -webkit-inline-flex;
        display: -ms-inline-flexbox;
        display: inline-flex;
        -webkit-align-items: center;
             -ms-flex-align: center;
               align-items: center;*/

       padding-left: 1.5em;
    }

    @if $f__input-focus-shadow != false {
        .#{$f__class-namespace}custom-input:focus + .c#{$f__class-namespace}ustom-input-label::before {
            box-shadow: $f__custom-input-focus-shadow;
            outline: 0;
        }
    }

    /* Common psuedo-element styles: */
    .#{$f__class-namespace}custom-input[type="checkbox"] + .#{$f__class-namespace}custom-input-label::before,
    .#{$f__class-namespace}custom-input[type="radio"] + .#{$f__class-namespace}custom-input-label::before {
        display: inline-block;
        content: "";
        width: 1em;
        height: 1em;
        background: #ccc;
        border-radius: 2px;

        position: absolute;
        left: 0;
        top: 50%;

        -webkit-transform: translate(0px, -53%);
        -ms-transform: translate(0px, -53%);
        transform: translate(0px, -53%);

    }

    /* Make the radio elements circular: */
    .#{$f__class-namespace}custom-input[type="radio"] + .#{$f__class-namespace}custom-input-label::before {
        border-radius: 50%;
    }

    /* Define the checkbox :checked state: */
    .#{$f__class-namespace}custom-input[type="checkbox"]:checked + .#{$f__class-namespace}custom-input-label::before {
        background: $f__base-ui-color;
    }

    /* Define the checkbox 'tick': */
    .#{$f__class-namespace}custom-input[type="checkbox"]:checked + .#{$f__class-namespace}custom-input-label::after {
        content: "";
        display: inline-block;
        width: 0.6em;
        height: 0.3em;
        border: solid #fff;
        border-width: 0 0 0.2em 0.2em;

        position: absolute;
        left: 0.22em;
        top: 50%;

        -webkit-transform: translate(0px, -80%) rotate(-50deg);
        -ms-transform: translate(0px, -80%) rotate(-50deg);
        transform: translate(0px, -80%) rotate(-50deg);
    }

    /* Define the radio 'dot': */
    .#{$f__class-namespace}custom-input[type="radio"]:checked + .#{$f__class-namespace}custom-input-label::before {
        background: #fff;
        border-color: $f__base-ui-color;
        border-width: 0.25em;
        border-style: solid;
    }

    /* Adjustments for end (right) alignment: */
    .#{$f__class-namespace}custom-input--align-end[type="checkbox"] + .#{$f__class-namespace}custom-input-label,
    .#{$f__class-namespace}custom-input--align-end[type="radio"] + .#{$f__class-namespace}custom-input-label {
        padding-left: 0;
        padding-right: 1.5em;
    }


    .#{$f__class-namespace}custom-input--align-end[type="checkbox"] + .#{$f__class-namespace}custom-input-label::before,
    .#{$f__class-namespace}custom-input--align-end[type="radio"] + .#{$f__class-namespace}custom-input-label::before {
        left: auto;
        right: 0;
    }

    .#{$f__class-namespace}custom-input--align-end[type="checkbox"]:checked + .#{$f__class-namespace}custom-input-label::after {
        left: auto;
        right: 0.16em;
    }



    /* CUSTOM INPUTS: FILE */
    .#{$f__class-namespace}custom-input[type="file"] {
    }

        /* -webkit hide the button: */
        .#{$f__class-namespace}custom-input[type="file"]::-webkit-file-upload-button {
            border: 0;
            padding: 0;
            margin: 0 ;
            width: 0;
            background: transparent;
        }

        /* Firefox hide the button: */
        @supports (-moz-appearance:meterbar) {
            .#{$f__class-namespace}custom-input[type=file] {
                text-indent: -5.6em;
                padding-right: 0.375rem;
            }
        }

        /* IE10-11, Edge hide the button: */
        .#{$f__class-namespace}custom-input[type=file]::-ms-browse {
            padding: 0;
            margin: -1px;
            width: 0;
            border: 0;
            background: transparent;
        }

        /* IE9 hide the button: (https://jeffclayton.wordpress.com/2014/07/22/internet-explorer-css-hacks-collection/) */
        @media screen and (min-width:0\0) and (min-resolution:.001dpcm) {
            /*
                So far I haven't managed to get this arrangement working properly in IE9, so hiding it:
            */
            .#{$f__class-namespace}button + .#{$f__class-namespace}custom-input[type=file] {
                margin-left: -5.35em;
            }

            .#{$f__class-namespace}custom-input[type="file"] + .#{$f__class-namespace}button {
                min-width: 7em;
                margin-left: -7em;
                text-align: center;
            }
        }
}

@if $ff__include_class_poem {
    .#{$f__class-namespace}poem {
        font-family: cursive;
        background: #fff;
        overflow: auto;
        margin-bottom: $f__base-rem-space-unit;
    }
}
