/*-------------------------------------------------------------------------------------------------|

    START-CSS ELEMENT: a
    ============================================================================================

|-------------------------------------------------------------------------------------------------*/

/*
    a:link a:visited a:hover a:active a:focus

    1. Remove the grey background on active links in IE 10.
    2. Remove the gaps in underlines in iOS 8+ and Safari 8+.
    3. Remove the tapping delay from clickable elements .
*/
#{$s__namespace}a[href] {

    color: $s__anchor-text-color;
    background-color: transparent; /* 1 */

    //text-decoration: $s__anchor-text-decoration;
    text-decoration: underline;


    text-decoration-line:      underline;
    text-decoration-style:     $s__anchor-line-style;
    text-decoration-thickness: $s__anchor-line-width;
    text-underline-offset:     $s__anchor-line-offset;

    -webkit-text-decoration-skip: objects; /* 2 */

    -ms-touch-action: manipulation; /* 3 (IE10) */
    touch-action: manipulation; /* 3 */

    /*
        1. For older browsers, the 2nd rule is ignored in those.
    */
    &:hover,
    &:active {
        text-decoration:       none; /* [1] */
        text-decoration:       underline $s__anchor-line-style--alt; /* [1] */
        text-underline-offset: $s__anchor-line-offset--alt;
        //box-shadow: none;

        //text-decoration-style: $s__anchor-text-decoration-style--alt;

        @if $s__anchor-text-color--alt != $s__anchor-text-color {
            color: $s__anchor-text-color--alt;
        }

        // @TODO - maybe support filters here too, e.g. filter: brightness(0.5);

    }

    /*
        1. Make sure focus is still visible in Forced Colour modes.
           (https://www.sarasoueidan.com/blog/focus-indicators/)
    */
    @if $s__use-focus-shadow {
            
        &:focus {
            outline: 1px solid transparent; /* [1] */
            box-shadow: $s__outline-shadow;
        }
    }

    // FF appears to calculate thickness very differently form Chrome.
    @supports (-moz-appearance:none) {
    
        text-decoration-thickness: $s__anchor-line-width - 0.04em;
        text-underline-offset:     $s__anchor-line-offset + 0.1em;
    
        &:hover,
        &:active {
            text-decoration-thickness: 0.1em;
        }
    }


    // Give link icons some space unless they're the only child.
    & svg:not(:only-child) {
        margin-left: 0.25em;
    }

    @media #{$s__ie10-11} {
        & svg {
            vertical-align: text-bottom;
        }
    }
}

    @if $s__anchor-add-external-link-indicator == true {

        #{$s__namespace}a[href][rel~="external"] {
            padding-right: 1em;
            background-image: linear-gradient(45deg, transparent 65%, $s__anchor-text-color 65%);
            background-repeat: no-repeat;
            background-position: right 0.4em bottom 0.4em;
            background-size: 0.6em 0.6em;
        }

        #{$s__namespace}a[href][rel~="external"]:hover {
            background-image: linear-gradient(45deg, transparent 65%, $s__anchor-text-color--alt 65%);
        }
    }